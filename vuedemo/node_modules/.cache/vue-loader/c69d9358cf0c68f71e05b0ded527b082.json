{"remainingRequest":"D:\\shixun2project\\vuedemo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\shixun2project\\vuedemo\\src\\page\\student\\student.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\shixun2project\\vuedemo\\src\\page\\student\\student.vue","mtime":1688029883724},{"path":"D:\\shixun2project\\vuedemo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1687936941837},{"path":"D:\\shixun2project\\vuedemo\\node_modules\\babel-loader\\lib\\index.js","mtime":1687936959020},{"path":"D:\\shixun2project\\vuedemo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1687936941837},{"path":"D:\\shixun2project\\vuedemo\\node_modules\\vue-loader\\lib\\index.js","mtime":1687936956102}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { listStudent , addStudent , updateStudent , getStudent , delStudent } from '@/api/getStudent.js';\nimport { setStorage, getStorage} from \"@/utils/localStorage.js\";\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t// 遮罩层\n\t\t\tloading: true,\n\t\t\t// 学生表格数据\n\t\t\tstudentList: [],\n\t\t\t// 查询参数\n\t\t\tqueryParams: {\n\t\t\t  page: 1,\n\t\t\t  limit: 10,\n\t\t\t  studentName: null,\n\t\t\t},\n\t\t\t//总条数\n\t\t\ttotal: 0,\n\t\t\t// 弹出层标题\n\t\t\ttitle: \"\",\n\t\t\t// 是否显示弹出层\n\t\t\topen: false,\n\t\t\t// 表单参数\n\t\t\tform: {},\n\t\t\t// 表单校验\n\t\t\trules: {\n\t\t\t\tstudentName: [\n\t\t\t\t\t{ required: true, message: '请输入姓名', trigger: 'blur' }\n\t\t\t\t],\n\t\t\t\tstudentNo: [\n\t\t\t\t\t{ required: true, message: '请输入编号', trigger: 'blur' }\n\t\t\t\t]\n\t\t\t},\n\t\t}\n\t},\n\tmethods: {\n\t\t/** 查询学生列表 */\n\t\tgetList() {\n\t\t\tthis.loading = true;\n\t\t\tlistStudent(this.queryParams).then(response => {\n\t\t\t  this.studentList = response.datas;\n\t\t\t  this.total = response.total;\n\t\t\t  this.loading = false;\n\t\t\t});\n\t\t},\n\t\t\n\t\t/** 搜索按钮操作 */\n\t\thandleQuery() {\n\t\t  this.queryParams.page = 1;\n\t\t  this.getList();\n\t\t},\n\t\t/** 重置按钮操作 */\n\t\tresetQuery() {\n\t\t\tthis.queryParams = {\n\t\t\t  page: 1,\n\t\t\t  limit: 10,\n\t\t\t  studentName: null,\n\t\t\t}\n\t\t  this.handleQuery();\n\t\t},\n\t\t\n\t\t// 表单重置\n\t\treset() {\n\t\t  this.form = {\n\t\t\tstudentId: null,\n\t\t\tstudentName: null,\n\t\t\tstudentAge: null,\n\t\t\tstudentBirth: null,\n\t\t\tstudentAddress: null,\n\t\t\tstudentNo: null,\n\t\t\tgradeId: 1\n\t\t  };\n\t\t},\n\t\t\n\t\t/**修改操作*/\n\t\thandleUpdate(row){\n\t\t\tthis.reset();\n\t\t\tvar studentId = row.studentId;\n\t\t\tgetStudent({\"studentId\":studentId}).then(response=>{\n\t\t\t\tconsole.log(response)\n\t\t\t\tthis.form = response.datas;\n\t\t\t\t\n\t\t\t\tthis.form.studentBirth = this.form.studentBirth.substring(0,10)\n\t\t\t\t\n\t\t\t\tthis.open = true;\n\t\t\t\tthis.title = \"修改学生\";\n\t\t\t})\n\t\t},\n\t\t\n\t\t/** 删除按钮操作 */\n\t\thandleDelete(row) {\n\t\t\tvar studentId = row.studentId\n\t\t\tthis.$confirm('请问是否删除', '提示', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '点错了',\n\t\t\t\ttype: 'warning'\n\t\t\t}).then(() => {\n\t\t\t\t//发送请求\n\t\t\t\tdelStudent({\"studentId\":studentId}).then(response => {\n\t\t\t\t\tthis.getList();\n\t\t\t\t\tthis.$message.success('删除成功');\n\t\t\t\t});\n\t\t\t}).catch(() => {\n\t\t\t\t\n\t\t\t});\n\t\t\t\n\t\t},\n\t\t\n\t\t\n\t\t/**新增操作*/\n\t\thandleAdd(){\n\t\t\tthis.reset();\n\t\t\tthis.open = true;\n\t\t\tthis.title = \"添加学生\";\n\t\t},\n\t\t\n\t\t/** 提交按钮 */\n\t\tsubmitForm() {\n\t\t  this.$refs[\"form\"].validate(valid => {\n\t\t    if (valid) {\n\t\t      if (this.form.studentId != null) {\n\t\t        updateStudent(this.form).then(response => {\n\t\t          this.$message.success('修改成功');\n\t\t          this.open = false;\n\t\t          this.getList();\n\t\t        });\n\t\t      } else {\n\t\t        addStudent(this.form).then(response => {\n\t\t\t\t\t\t\t\tthis.$message.success('新增成功');\n\t\t          this.open = false;\n\t\t          this.getList();\n\t\t        });\n\t\t      }\n\t\t    }\n\t\t  });\n\t\t},\n\t\t\n\t\t// 取消按钮\n\t\tcancel() {\n\t\t  this.open = false;\n\t\t  this.reset();\n\t\t},\n\t\t\n\t\t/** 页数发生改变时触发 */\n\t\tcurrentChange(page){\n\t\t\tconsole.log(\"当前页面为：\"+page)\t\n\t\t\tthis.queryParams.page = page\n\t\t\tthis.getList();\n\t\t},\n\t\t\n\t\t/** 点击上一页触发 */\n\t\tprevClick(page){\n\t\t\tconsole.log(\"点击上一页：\"+page)\t\t  \n\t\t},\n\t\t\n\t\t/** 点击下一页触发 */\n\t\tnextClick(page){\n\t\t\tconsole.log(\"点击下一页：\"+page)\t\t \n\t\t},\n\t\n\t},\n\tmounted() {\n\t\tthis.getList();\n\t}\n}\n",{"version":3,"sources":["student.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"student.vue","sourceRoot":"src/page/student","sourcesContent":["<template>\n\t<div class=\"my-outline-border\">\n\t\t\n\t\t<!-- 列表 开始 -->\n\t\t<el-form :model=\"queryParams\" size=\"small\" :inline=\"true\" label-width=\"68px\" class=\"my-form-style\">\n\t\t  <el-form-item label=\"姓名\" prop=\"studentName\">\n\t\t    <el-input\n\t\t      v-model=\"queryParams.studentName\"\n\t\t      placeholder=\"请输入姓名\"\n\t\t      clearable\n\t\t      @keyup.enter.native=\"handleQuery\"\n\t\t    />\n\t\t  </el-form-item>\n\t\t  <el-form-item>\n\t\t    <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n\t\t    <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n\t\t  </el-form-item>\n\t\t</el-form>\n\t\t\n\t\t<!--操作栏-->\n\t\t<el-row :gutter=\"10\" class=\"mb8\">\n\t\t  <el-col :span=\"1.5\">\n\t\t\t<el-button\n\t\t\t  type=\"primary\"\n\t\t\t  plain\n\t\t\t  icon=\"el-icon-plus\"\n\t\t\t  size=\"mini\"\n\t\t\t  @click=\"handleAdd\"\n\t\t\t>新增</el-button>\n\t\t  </el-col>\n\t\t</el-row>\n\t\t\n\t\t<el-table v-loading=\"loading\" :data=\"studentList\" stripe border>\n\t\t  <el-table-column label=\"主键Id\" align=\"center\" prop=\"studentId\" />\n\t\t  <el-table-column label=\"姓名\" align=\"center\" prop=\"studentName\" />\n\t\t  <el-table-column label=\"出身日期\" align=\"center\" prop=\"studentBirth\"/>\n\t\t  <el-table-column label=\"年龄\" align=\"center\" prop=\"studentAge\" />\n\t\t  <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n\t\t    <template slot-scope=\"scope\">\n\t\t      <el-button\n\t\t        size=\"mini\"\n\t\t        type=\"text\"\n\t\t        icon=\"el-icon-edit\"\n\t\t        @click=\"handleUpdate(scope.row)\"\n\t\t      >修改</el-button>\n\t\t      <el-button\n\t\t        size=\"mini\"\n\t\t        type=\"text\"\n\t\t        icon=\"el-icon-delete\"\n\t\t        @click=\"handleDelete(scope.row)\"\n\t\t      >删除</el-button>\n\t\t    </template>\n\t\t  </el-table-column>\n\t\t</el-table>\n\t\t\n\t\t<el-pagination\n\t\t  class=\"my-pagination-style\"\n\t\t  background\n\t\t  layout=\"prev, pager, next\"\n\t\t  :current-page=\"queryParams.page\"\n\t\t  :page-size=\"queryParams.limit\"\n\t\t  :total=\"total\"\n\t\t  @current-change=\"currentChange\"\n\t\t  @prev-click=\"prevClick\"\n\t\t  @next-click=\"nextClick\">\n\t\t</el-pagination>\n\t\t<!-- 列表 结束 -->\n\t\t\n\t\t<!-- 添加或修改 -->\n\t\t<el-dialog :title=\"title\" :visible.sync=\"open\" width=\"500px\" append-to-body>\n\t\t  <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n\t\t    <el-form-item label=\"姓名\" prop=\"studentName\">\n\t\t      <el-input v-model=\"form.studentName\" placeholder=\"请输入姓名\" />\n\t\t    </el-form-item>\n\t\t    <el-form-item label=\"年龄\" prop=\"studentAge\">\n\t\t      <el-input v-model=\"form.studentAge\" placeholder=\"请输入年龄\" />\n\t\t    </el-form-item>\n\t\t\t<el-form-item label=\"编号\" prop=\"studentNo\">\n\t\t\t  <el-input v-model=\"form.studentNo\" placeholder=\"编号\" />\n\t\t\t</el-form-item>\n\t\t\t<el-form-item label=\"地址\" prop=\"studentAddress\">\n\t\t\t  <el-input v-model=\"form.studentAddress\" placeholder=\"请输入地址\" />\n\t\t\t</el-form-item>\n\t\t    <el-form-item label=\"出身日期\" prop=\"studentBirth\">\n\t\t      <el-date-picker clearable\n\t\t        v-model=\"form.studentBirth\"\n\t\t        type=\"date\"\n\t\t        value-format=\"yyyy-MM-dd\"\n\t\t        placeholder=\"请选择出身日期\">\n\t\t      </el-date-picker>\n\t\t    </el-form-item>\n\t\t  </el-form>\n\t\t  <div slot=\"footer\" class=\"dialog-footer\">\n\t\t    <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n\t\t    <el-button @click=\"cancel\">取 消</el-button>\n\t\t  </div>\n\t\t</el-dialog>\n\t\t\n\t</div>\n</template>\n\n<script>\n\timport { listStudent , addStudent , updateStudent , getStudent , delStudent } from '@/api/getStudent.js';\n\timport { setStorage, getStorage} from \"@/utils/localStorage.js\";\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t// 遮罩层\n\t\t\t\tloading: true,\n\t\t\t\t// 学生表格数据\n\t\t\t\tstudentList: [],\n\t\t\t\t// 查询参数\n\t\t\t\tqueryParams: {\n\t\t\t\t  page: 1,\n\t\t\t\t  limit: 10,\n\t\t\t\t  studentName: null,\n\t\t\t\t},\n\t\t\t\t//总条数\n\t\t\t\ttotal: 0,\n\t\t\t\t// 弹出层标题\n\t\t\t\ttitle: \"\",\n\t\t\t\t// 是否显示弹出层\n\t\t\t\topen: false,\n\t\t\t\t// 表单参数\n\t\t\t\tform: {},\n\t\t\t\t// 表单校验\n\t\t\t\trules: {\n\t\t\t\t\tstudentName: [\n\t\t\t\t\t\t{ required: true, message: '请输入姓名', trigger: 'blur' }\n\t\t\t\t\t],\n\t\t\t\t\tstudentNo: [\n\t\t\t\t\t\t{ required: true, message: '请输入编号', trigger: 'blur' }\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t/** 查询学生列表 */\n\t\t\tgetList() {\n\t\t\t\tthis.loading = true;\n\t\t\t\tlistStudent(this.queryParams).then(response => {\n\t\t\t\t  this.studentList = response.datas;\n\t\t\t\t  this.total = response.total;\n\t\t\t\t  this.loading = false;\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t/** 搜索按钮操作 */\n\t\t\thandleQuery() {\n\t\t\t  this.queryParams.page = 1;\n\t\t\t  this.getList();\n\t\t\t},\n\t\t\t/** 重置按钮操作 */\n\t\t\tresetQuery() {\n\t\t\t\tthis.queryParams = {\n\t\t\t\t  page: 1,\n\t\t\t\t  limit: 10,\n\t\t\t\t  studentName: null,\n\t\t\t\t}\n\t\t\t  this.handleQuery();\n\t\t\t},\n\t\t\t\n\t\t\t// 表单重置\n\t\t\treset() {\n\t\t\t  this.form = {\n\t\t\t\tstudentId: null,\n\t\t\t\tstudentName: null,\n\t\t\t\tstudentAge: null,\n\t\t\t\tstudentBirth: null,\n\t\t\t\tstudentAddress: null,\n\t\t\t\tstudentNo: null,\n\t\t\t\tgradeId: 1\n\t\t\t  };\n\t\t\t},\n\t\t\t\n\t\t\t/**修改操作*/\n\t\t\thandleUpdate(row){\n\t\t\t\tthis.reset();\n\t\t\t\tvar studentId = row.studentId;\n\t\t\t\tgetStudent({\"studentId\":studentId}).then(response=>{\n\t\t\t\t\tconsole.log(response)\n\t\t\t\t\tthis.form = response.datas;\n\t\t\t\t\t\n\t\t\t\t\tthis.form.studentBirth = this.form.studentBirth.substring(0,10)\n\t\t\t\t\t\n\t\t\t\t\tthis.open = true;\n\t\t\t\t\tthis.title = \"修改学生\";\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t/** 删除按钮操作 */\n\t\t\thandleDelete(row) {\n\t\t\t\tvar studentId = row.studentId\n\t\t\t\tthis.$confirm('请问是否删除', '提示', {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\tcancelButtonText: '点错了',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t}).then(() => {\n\t\t\t\t\t//发送请求\n\t\t\t\t\tdelStudent({\"studentId\":studentId}).then(response => {\n\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\tthis.$message.success('删除成功');\n\t\t\t\t\t});\n\t\t\t\t}).catch(() => {\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\t\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t/**新增操作*/\n\t\t\thandleAdd(){\n\t\t\t\tthis.reset();\n\t\t\t\tthis.open = true;\n\t\t\t\tthis.title = \"添加学生\";\n\t\t\t},\n\t\t\t\n\t\t\t/** 提交按钮 */\n\t\t\tsubmitForm() {\n\t\t\t  this.$refs[\"form\"].validate(valid => {\n\t\t\t    if (valid) {\n\t\t\t      if (this.form.studentId != null) {\n\t\t\t        updateStudent(this.form).then(response => {\n\t\t\t          this.$message.success('修改成功');\n\t\t\t          this.open = false;\n\t\t\t          this.getList();\n\t\t\t        });\n\t\t\t      } else {\n\t\t\t        addStudent(this.form).then(response => {\n\t\t\t\t\t\t\t\t\tthis.$message.success('新增成功');\n\t\t\t          this.open = false;\n\t\t\t          this.getList();\n\t\t\t        });\n\t\t\t      }\n\t\t\t    }\n\t\t\t  });\n\t\t\t},\n\t\t\t\n\t\t\t// 取消按钮\n\t\t\tcancel() {\n\t\t\t  this.open = false;\n\t\t\t  this.reset();\n\t\t\t},\n\t\t\t\n\t\t\t/** 页数发生改变时触发 */\n\t\t\tcurrentChange(page){\n\t\t\t\tconsole.log(\"当前页面为：\"+page)\t\n\t\t\t\tthis.queryParams.page = page\n\t\t\t\tthis.getList();\n\t\t\t},\n\t\t\t\n\t\t\t/** 点击上一页触发 */\n\t\t\tprevClick(page){\n\t\t\t\tconsole.log(\"点击上一页：\"+page)\t\t  \n\t\t\t},\n\t\t\t\n\t\t\t/** 点击下一页触发 */\n\t\t\tnextClick(page){\n\t\t\t\tconsole.log(\"点击下一页：\"+page)\t\t \n\t\t\t},\n\t\t\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getList();\n\t\t}\n\t}\n</script>\n\n<style>\n.my-outline-border{\n\tmargin: 10px;\n\tpadding: 10px;\n}\n\n.my-form-style{\n\tpadding-top: 20px;\n\tbackground-color: #f5f7fa;\n}\n\n.my-pagination-style{\n\tmargin-top: 10px;\n\tfloat: right;\n}\n\n</style>"]}]}