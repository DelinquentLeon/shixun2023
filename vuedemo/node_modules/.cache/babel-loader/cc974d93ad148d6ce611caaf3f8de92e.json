{"remainingRequest":"D:\\shixun2project\\vuedemo\\node_modules\\babel-loader\\lib\\index.js!D:\\shixun2project\\vuedemo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\shixun2project\\vuedemo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\shixun2project\\vuedemo\\src\\page\\home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\shixun2project\\vuedemo\\src\\page\\home.vue","mtime":1688351855916},{"path":"D:\\shixun2project\\vuedemo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1687936941837},{"path":"D:\\shixun2project\\vuedemo\\node_modules\\babel-loader\\lib\\index.js","mtime":1687936959020},{"path":"D:\\shixun2project\\vuedemo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1687936941837},{"path":"D:\\shixun2project\\vuedemo\\node_modules\\vue-loader\\lib\\index.js","mtime":1687936956102}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { loginOut as _loginOut } from '@/api/getStudent.js';\nimport { setStorage, getStorage, removeStorage } from \"@/utils/localStorage.js\";\nexport default {\n  data: function data() {\n    return {\n      activeIndex: \"/main\",\n      userInfo: {} //用户具体信息\n      // userMenu: [],//用户的菜单数组\n\n    };\n  },\n  methods: {\n    handleSelect: function handleSelect(key, keyPath) {\n      console.log(key, keyPath);\n    },\n    main: function main() {\n      this.$router.push({\n        name: \"main\"\n      });\n    },\n    //退出登录\n    loginOut: function loginOut() {\n      var _this = this;\n\n      this.$confirm('请问是否退出登录', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '点错了',\n        type: 'warning'\n      }).then(function () {\n        //发送请求退出登录\n        _loginOut().then(function (res) {\n          if (res != -1) {\n            //删除缓存\n            removeStorage(\"user\"); //返回登录页面\n\n            _this.$router.push({\n              name: \"login\"\n            }); //提示\n\n\n            _this.$message.success(\"退出系统\");\n          }\n        });\n      }).catch(function () {});\n    },\n    //在缓存获取用户信息\n    getUserInfo: function getUserInfo() {\n      //获取用户信息\n      var user = JSON.parse(getStorage(\"user\"));\n      console.log(user);\n      this.userInfo = user.user; // this.userMenu = user.menus;\n    }\n  },\n  mounted: function mounted() {\n    this.$nextTick(function () {\n      // 仅在整个视图都被渲染之后才会运行的代码\n      this.getUserInfo();\n    });\n  }\n};",{"version":3,"sources":["home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,SAAA,QAAA,IAAA,SAAA,QAAA,qBAAA;AACA,SAAA,UAAA,EAAA,UAAA,EAAA,aAAA,QAAA,yBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,OADA;AAEA,MAAA,QAAA,EAAA,EAFA,CAEA;AACA;;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,GADA,EACA,OADA,EACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,OAAA;AACA,KAHA;AAIA,IAAA,IAJA,kBAIA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KANA;AAOA;AACA,IAAA,QARA,sBAQA;AAAA;;AACA,WAAA,QAAA,CAAA,UAAA,EAAA,IAAA,EAAA;AACA,QAAA,iBAAA,EAAA,IADA;AAEA,QAAA,gBAAA,EAAA,KAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAIA,YAAA;AACA;AACA,QAAA,SAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,IAAA,CAAA,CAAA,EAAA;AACA;AACA,YAAA,aAAA,CAAA,MAAA,CAAA,CAFA,CAGA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA,IAAA,EAAA;AAAA,aAAA,EAJA,CAKA;;;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;AACA;AACA,SATA;AAUA,OAhBA,EAgBA,KAhBA,CAgBA,YAAA,CAEA,CAlBA;AAmBA,KA5BA;AA6BA;AACA,IAAA,WA9BA,yBA8BA;AACA;AACA,UAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,UAAA,CAAA,MAAA,CAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,WAAA,QAAA,GAAA,IAAA,CAAA,IAAA,CAJA,CAKA;AACA;AApCA,GARA;AA+CA,EAAA,OA/CA,qBA+CA;AACA,SAAA,SAAA,CAAA,YAAA;AACA;AACA,WAAA,WAAA;AACA,KAHA;AAIA;AApDA,CAAA","sourcesContent":["<template>\n\t<div style=\"min-width: 1500px\">\n\t\t<el-container>\n\t\t\t<el-header style=\"padding: 0px;\">\n\t\t\t\t<el-menu\n\t\t\t\t  :default-active=\"activeIndex\"\n\t\t\t\t  :unique-opened=true\n\t\t\t\t  class=\"el-menu-demo\"\n\t\t\t\t  mode=\"horizontal\"\n\t\t\t\t  @select=\"handleSelect\"\n\t\t\t\t  background-color=\"#545c64\"\n\t\t\t\t  text-color=\"#fff\"\n\t\t\t\t  active-text-color=\"#ffd04b\"\n\t\t\t\t  :router=\"true\">\n\t\t\t\t\t<span class=\"el-menu-item system-title\">校园管理系统</span>\n\t\t\t\t\t<!-- <el-menu-item v-for=\"(item, index) in userMenu\" :key=\"index\" :index=\"item.path\"><i :class=\"item.icon\"></i> {{item.title}}</el-menu-item> -->\n\t\t\t\t\t<span class=\"el-menu-item system-title\" @click=\"main\">首页</span>\r\n\t\t\t\t\t<span class=\"el-menu-item system-title\">学生管理</span>\r\n\t\t\t\t\t<span class=\"el-menu-item system-title\">成绩管理</span>\n\t\t\t\t\t<span class=\"el-menu-item header-welcome\" @click=\"loginOut\"><i class=\"el-icon-s-unfold\"></i> 退出登录</span>\n\t\t\t\t\t<span class=\"el-menu-item header-welcome\">欢迎您{{userInfo.account}},您好</span>\n\t\t\t\t\t\n\t\t\t\t</el-menu>\n\t\t\t</el-header>\n\t\t\t<el-main style=\"min-width: 1800px;padding: 0px;\">\n\t\t\t\t<router-view></router-view>\n\t\t\t</el-main>\n\t\t</el-container>\n\t</div>\n</template>\n\n<script>\n\timport { loginOut } from '@/api/getStudent.js';\n\timport { setStorage, getStorage, removeStorage} from \"@/utils/localStorage.js\";\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tactiveIndex: \"/main\",\n\t\t\t\tuserInfo: {},//用户具体信息\n\t\t\t\t// userMenu: [],//用户的菜单数组\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\thandleSelect(key, keyPath) {\n\t\t\t\tconsole.log(key, keyPath);\n\t\t\t},\n\t\t\tmain(){\r\n\t\t\t\tthis.$router.push({name: \"main\"});\r\n\t\t\t},\n\t\t\t//退出登录\n\t\t\tloginOut(){\n\t\t\t\tthis.$confirm('请问是否退出登录', '提示', {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\tcancelButtonText: '点错了',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t}).then(() => {\n\t\t\t\t\t//发送请求退出登录\n\t\t\t\t\tloginOut().then(res => {\n\t\t\t\t\t\tif(res != -1){\n\t\t\t\t\t\t\t//删除缓存\n\t\t\t\t\t\t\tremoveStorage(\"user\");\n\t\t\t\t\t\t\t//返回登录页面\n\t\t\t\t\t\t\tthis.$router.push({name: \"login\"});\n\t\t\t\t\t\t\t//提示\n\t\t\t\t\t\t\tthis.$message.success(\"退出系统\");\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}).catch(() => {\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t},\n\t\t\t//在缓存获取用户信息\n\t\t\tgetUserInfo(){\n\t\t\t\t//获取用户信息\n\t\t\t\tlet user = JSON.parse(getStorage(\"user\"));\n\t\t\t\tconsole.log(user)\n\t\t\t\tthis.userInfo = user.user;\n\t\t\t\t// this.userMenu = user.menus;\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tmounted() {\n\t\t\tthis.$nextTick(function () {\n\t\t\t    // 仅在整个视图都被渲染之后才会运行的代码\n\t\t\t\tthis.getUserInfo();\n\t\t\t})\n\t\t},\n\t\t\n\t}\n</script>\n\n<style>\n\t .system-title{\n\t\t text-align: center;\n\t\t color: white !important;\n\t\t font-size: 22px !important;\t\n\t\t font-weight: bolder;\n\t\t width: 200px;\n\t }\n\t .system-title:hover,.header-welcome:hover{\n\t\t background-color: rgb(67,74,80) !important;\n\t }\n\t .system-title:focus,.header-welcome:focus{\n\t \t\t background-color: rgb(84,92,100) !important;\n\t }\n\t .header-welcome,.header-loginOut{\n\t\t text-align: center;\n\t\t color: white !important;\n\t\t float: right !important;\n\t }\n</style>"],"sourceRoot":"src/page"}]}